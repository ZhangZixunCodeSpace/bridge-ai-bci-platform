<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bridge - AI+BCI Communication Training Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #0c1445 0%, #1e3a8a 50%, #1e40af 100%);
            min-height: 100vh;
            color: #f8fafc;
            position: relative;
            overflow-x: hidden;
        }

        /* 星夜背景效果 */
        .starry-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 30%, #fbbf24 1px, transparent 2px),
                        radial-gradient(circle at 80% 20%, #f59e0b 1px, transparent 2px),
                        radial-gradient(circle at 60% 80%, #fbbf24 1px, transparent 2px),
                        radial-gradient(circle at 30% 70%, #f59e0b 0.5px, transparent 1px);
            background-size: 200px 200px, 250px 250px, 180px 180px, 220px 220px;
            z-index: -1;
            animation: starTwinkle 6s infinite ease-in-out;
        }

        @keyframes starTwinkle {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 0.4; }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            min-height: 100vh;
            background: rgba(30, 58, 138, 0.15);
            backdrop-filter: blur(20px);
            box-shadow: 0 0 80px rgba(251, 191, 36, 0.2);
            position: relative;
            display: flex;
            flex-direction: column;
            border-left: 1px solid rgba(251, 191, 36, 0.2);
            border-right: 1px solid rgba(251, 191, 36, 0.2);
        }

        /* Header */
        .header {
            background: rgba(12, 20, 69, 0.9);
            backdrop-filter: blur(20px);
            color: #f8fafc;
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(251, 191, 36, 0.3);
        }

        .logo-section {
            display: flex;
            align-items: center;
            z-index: 2;
        }

        .logo-container {
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 12px;
        }

        .logo-container:hover {
            transform: scale(1.05);
            filter: drop-shadow(0 0 10px #fbbf24);
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            margin-right: 8px;
        }

        .logo-text {
            font-size: 28px;
            font-weight: 700;
            color: #fbbf24;
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
        }

        .tagline {
            font-size: 14px;
            background: rgba(251, 191, 36, 0.1);
            color: #fbbf24;
            padding: 4px 12px;
            border-radius: 12px;
            border: 1px solid rgba(251, 191, 36, 0.3);
        }

        .progress-indicator {
            background: rgba(251, 191, 36, 0.1);
            border-radius: 12px;
            padding: 8px 16px;
            font-size: 12px;
            border: 1px solid rgba(251, 191, 36, 0.3);
            color: #fbbf24;
            display: flex;
            align-items: center;
        }

        .progress-dot {
            width: 8px;
            height: 8px;
            background: #fbbf24;
            border-radius: 50%;
            margin-right: 8px;
            animation: pulse 2s infinite;
            box-shadow: 0 0 5px #fbbf24;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(1.2); }
        }

        /* Progress Bar */
        .top-progress {
            background: rgba(12, 20, 69, 0.8);
            backdrop-filter: blur(10px);
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom: 1px solid rgba(251, 191, 36, 0.2);
        }

        .progress-steps {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .step-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(251, 191, 36, 0.2);
            color: #94a3b8;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-bottom: 8px;
            transition: all 0.3s ease;
            border: 2px solid rgba(251, 191, 36, 0.3);
        }

        .progress-step.completed .step-circle {
            background: #047857;
            color: white;
            border-color: #047857;
            box-shadow: 0 0 15px rgba(4, 120, 87, 0.5);
        }

        .progress-step.active .step-circle {
            background: #fbbf24;
            color: #0c1445;
            border-color: #fbbf24;
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.6);
        }

        .step-label {
            font-size: 12px;
            font-weight: 600;
            color: #94a3b8;
        }

        .progress-step.completed .step-label {
            color: #047857;
        }

        .progress-step.active .step-label {
            color: #fbbf24;
        }

        .step-connector {
            width: 60px;
            height: 2px;
            background: rgba(251, 191, 36, 0.3);
        }

        .progress-step.completed + .step-connector {
            background: #047857;
            box-shadow: 0 0 5px rgba(4, 120, 87, 0.5);
        }

        /* Main Content */
        .main-content {
            padding: 40px;
            flex: 1;
        }

        .screen {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Buttons */
        .primary-button {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #0c1445;
            border: none;
            border-radius: 12px;
            padding: 18px 36px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 4px 15px rgba(251, 191, 36, 0.3);
        }

        .primary-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(251, 191, 36, 0.5);
            filter: brightness(1.1);
        }

        .primary-button:disabled {
            background: #64748b;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .secondary-button {
            background: rgba(251, 191, 36, 0.1);
            color: #fbbf24;
            border: 2px solid #fbbf24;
            border-radius: 12px;
            padding: 16px 36px;
            font-size: 18px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .secondary-button:hover {
            background: #fbbf24;
            color: #0c1445;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(251, 191, 36, 0.3);
        }

        /* BCI Panel */
        .bci-panel {
            background: linear-gradient(135deg, rgba(12, 20, 69, 0.9), rgba(30, 58, 138, 0.8));
            backdrop-filter: blur(15px);
            color: #f8fafc;
            border-radius: 16px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid rgba(251, 191, 36, 0.3);
            position: relative;
            overflow: hidden;
        }

        .bci-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #fbbf24, #f59e0b, #047857);
            animation: neuralActivity 3s linear infinite;
        }

        @keyframes neuralActivity {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .bci-title {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
            color: #fbbf24;
        }

        .bci-metrics {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .metric {
            text-align: center;
        }

        .metric-value {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 6px;
            color: #fbbf24;
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.3);
            transition: all 0.5s ease;
        }

        .metric-label {
            font-size: 14px;
            opacity: 0.8;
            color: #cbd5e1;
        }

        /* Welcome Screen */
        .welcome-screen {
            text-align: center;
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 0;
        }

        .hero-title {
            font-size: 52px;
            font-weight: 800;
            margin-bottom: 16px;
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
            text-shadow: 0 0 30px rgba(251, 191, 36, 0.3);
        }

        .hero-subtitle {
            font-size: 24px;
            color: #cbd5e1;
            margin-bottom: 16px;
            font-weight: 600;
            font-style: italic;
        }

        .hero-description {
            font-size: 20px;
            color: #e2e8f0;
            line-height: 1.6;
            margin-bottom: 30px;
        }

        /* Configuration Styles */
        .config-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .config-section {
            background: rgba(12, 20, 69, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(251, 191, 36, 0.2);
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 24px;
        }

        .config-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 16px;
            color: #fbbf24;
        }

        .scenarios-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            margin-top: 20px;
        }

        .scenario-card {
            background: rgba(12, 20, 69, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(251, 191, 36, 0.2);
            border-radius: 16px;
            padding: 28px;
            text-align: left;
            transition: all 0.4s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .scenario-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: #fbbf24;
        }

        .scenario-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 60px rgba(251, 191, 36, 0.2);
            border-color: #fbbf24;
        }

        .scenario-card.selected {
            border-color: #fbbf24;
            box-shadow: 0 0 0 3px rgba(251, 191, 36, 0.3);
            transform: translateY(-4px);
        }

        .scenario-emoji {
            font-size: 32px;
            margin-bottom: 16px;
            display: block;
        }

        .scenario-title {
            font-size: 20px;
            font-weight: 700;
            margin-bottom: 12px;
            color: #fbbf24;
        }

        .scenario-quote {
            font-size: 15px;
            color: #cbd5e1;
            font-style: italic;
            margin-bottom: 12px;
            border-left: 3px solid #64748b;
            padding: 8px 12px;
            background: rgba(12, 20, 69, 0.5);
            border-radius: 6px;
        }

        .scenario-insight {
            font-size: 14px;
            color: #047857;
            font-weight: 600;
            background: rgba(4, 120, 87, 0.1);
            padding: 8px 12px;
            border-radius: 8px;
            border-left: 3px solid #047857;
        }

        .tag-option {
            background: rgba(12, 20, 69, 0.6);
            border: 2px solid rgba(251, 191, 36, 0.3);
            color: #cbd5e1;
            padding: 12px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 15px;
            font-weight: 500;
            margin: 5px;
            display: inline-block;
        }

        .tag-option:hover {
            border-color: #fbbf24;
            background: rgba(251, 191, 36, 0.1);
            color: #fbbf24;
            transform: translateY(-1px);
        }

        .tag-option.selected {
            background: #fbbf24;
            border-color: #fbbf24;
            color: #0c1445;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(251, 191, 36, 0.3);
        }

        /* Training Interface */
        .training-grid {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }

        .chat-section {
            background: rgba(12, 20, 69, 0.6);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(251, 191, 36, 0.2);
            border-radius: 16px;
            padding: 24px;
        }

        .training-chat {
            border: 2px solid rgba(251, 191, 36, 0.3);
            border-radius: 12px;
            height: 350px;
            overflow-y: auto;
            padding: 16px;
            margin-bottom: 16px;
            background: rgba(12, 20, 69, 0.4);
        }

        .chat-message {
            margin-bottom: 12px;
            padding: 12px 16px;
            border-radius: 12px;
            animation: messageSlide 0.4s ease;
        }

        @keyframes messageSlide {
            from { transform: translateY(15px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .chat-message.ai {
            background: rgba(239, 68, 68, 0.2);
            border: 1px solid rgba(239, 68, 68, 0.3);
            color: #fca5a5;
            max-width: 90%;
        }

        .chat-message.user {
            background: rgba(251, 191, 36, 0.2);
            border: 1px solid rgba(251, 191, 36, 0.3);
            color: #fbbf24;
            margin-left: auto;
            max-width: 90%;
        }

        .chat-message.system {
            background: rgba(4, 120, 87, 0.2);
            border: 1px solid rgba(4, 120, 87, 0.3);
            color: #6ee7b7;
            text-align: center;
            font-size: 13px;
            max-width: 95%;
            margin: 8px auto;
        }

        .chat-message.bci-feedback {
            background: linear-gradient(135deg, rgba(4, 120, 87, 0.3), rgba(6, 95, 70, 0.3));
            color: #6ee7b7;
            text-align: center;
            font-size: 13px;
            font-weight: 600;
            max-width: 95%;
            margin: 8px auto;
            border: 1px solid #047857;
        }

        .response-options {
            display: grid;
            gap: 8px;
            margin-bottom: 16px;
        }

        .response-option {
            background: rgba(12, 20, 69, 0.6);
            border: 1px solid rgba(251, 191, 36, 0.3);
            color: #e2e8f0;
            padding: 12px;
            border-radius: 8px;
            text-align: left;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
        }

        .response-option:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(251, 191, 36, 0.2);
            border-color: #fbbf24;
            background: rgba(251, 191, 36, 0.1);
        }

        .response-option:disabled {
            transform: none !important;
            box-shadow: none !important;
            opacity: 0.5;
            cursor: not-allowed;
        }

        .response-option.empathetic {
            background: rgba(4, 120, 87, 0.2);
            border-color: rgba(4, 120, 87, 0.5);
            color: #6ee7b7;
        }

        .response-option.defensive {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.5);
            color: #fca5a5;
        }

        /* Footer */
        .footer {
            background: rgba(12, 20, 69, 0.95);
            backdrop-filter: blur(20px);
            border-top: 1px solid rgba(251, 191, 36, 0.3);
            margin-top: auto;
            padding: 0;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 60px 40px 40px;
        }

        .footer-quote {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
        }

        .footer-quote-text {
            font-size: 18px;
            font-style: italic;
            color: #94a3b8;
            position: relative;
        }

        .footer-quote-text::before,
        .footer-quote-text::after {
            content: '"';
            font-size: 24px;
            color: #fbbf24;
        }

        .footer-main {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 60px;
            margin-bottom: 40px;
        }

        .footer-brand {
            max-width: 380px;
        }

        .footer-logo {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .footer-logo-icon {
            width: 32px;
            height: 32px;
            margin-right: 12px;
        }

        .footer-logo-text {
            font-size: 32px;
            font-weight: 800;
            color: #fbbf24;
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.3);
        }

        .footer-description {
            color: #94a3b8;
            line-height: 1.6;
            margin-bottom: 20px;
            font-size: 16px;
        }

        .footer-copyright {
            color: #64748b;
            font-size: 14px;
            margin-bottom: 24px;
        }

        .footer-social {
            display: flex;
            gap: 16px;
        }

        .social-link {
            width: 40px;
            height: 40px;
            background: rgba(251, 191, 36, 0.1);
            border: 1px solid rgba(251, 191, 36, 0.3);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #94a3b8;
            text-decoration: none;
            transition: all 0.3s ease;
            font-size: 18px;
        }

        .social-link:hover {
            background: #fbbf24;
            color: #0c1445;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(251, 191, 36, 0.3);
        }

        .footer-section h4 {
            font-size: 16px;
            font-weight: 600;
            color: #fbbf24;
            margin-bottom: 20px;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            color: #94a3b8;
            text-decoration: none;
            transition: color 0.3s ease;
            font-size: 15px;
        }

        .footer-links a:hover {
            color: #fbbf24;
        }

        .footer-bottom {
            border-top: 1px solid rgba(251, 191, 36, 0.2);
            padding-top: 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 16px;
        }

        .footer-bottom-text {
            color: #64748b;
            font-size: 14px;
        }

        .footer-legal {
            display: flex;
            gap: 24px;
        }

        .footer-legal a {
            color: #64748b;
            text-decoration: none;
            font-size: 14px;
            transition: color 0.3s ease;
        }

        .footer-legal a:hover {
            color: #fbbf24;
        }

        /* Demo Banner */
        .demo-banner {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #0c1445;
            text-align: center;
            padding: 8px;
            font-weight: 600;
            font-size: 14px;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        /* Responsive */
        @media (max-width: 968px) {
            .footer-main {
                grid-template-columns: 1fr 1fr;
                gap: 40px;
            }
            
            .footer-brand {
                grid-column: 1 / -1;
                max-width: none;
                text-align: center;
                margin-bottom: 20px;
            }

            .training-grid {
                grid-template-columns: 1fr !important;
                gap: 20px !important;
            }
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 36px;
            }
            
            .main-content {
                padding: 20px;
            }

            .footer-container {
                padding: 40px 20px 30px;
            }

            .footer-main {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .footer-bottom {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Demo Banner -->
    <div class="demo-banner">
        🚀 Bridge AI+BCI Platform Demo - Interactive Prototype | <a href="/" style="color: #0c1445; text-decoration: underline;">← Back to Main App</a>
    </div>

    <div class="starry-bg"></div>

    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="logo-section">
                <div class="logo-container" onclick="goHome()">
                    <svg class="logo-icon" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                        <rect x="0" y="0" width="120" height="120" rx="16" fill="#fbbf24"/>
                        <g transform="translate(60, 60)" fill="#0c1445">
                            <rect x="-15" y="-3" width="30" height="6" rx="3"/>
                            <circle cx="-15" cy="0" r="6" fill="none" stroke="#0c1445" stroke-width="3"/>
                            <circle cx="15" cy="0" r="6" fill="none" stroke="#0c1445" stroke-width="3"/>
                        </g>
                    </svg>
                    <div class="logo-text">Bridge</div>
                </div>
                <div class="tagline">AI+BCI Neural Communication</div>
            </div>
            <div class="progress-indicator">
                <span class="progress-dot"></span>
                <span id="header-status">Ready to Begin</span>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="top-progress" id="progress-bar" style="display: none;">
            <div class="progress-steps">
                <div class="progress-step" id="step-1">
                    <div class="step-circle">🔬</div>
                    <div class="step-label">Neural Calibration</div>
                </div>
                <div class="step-connector"></div>
                <div class="progress-step" id="step-2">
                    <div class="step-circle">🎯</div>
                    <div class="step-label">Choose Scenario</div>
                </div>
                <div class="step-connector"></div>
                <div class="progress-step" id="step-3">
                    <div class="step-circle">⚡</div>
                    <div class="step-label">BCI Training</div>
                </div>
                <div class="step-connector"></div>
                <div class="progress-step" id="step-4">
                    <div class="step-circle">📊</div>
                    <div class="step-label">Analysis</div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Welcome Screen -->
            <div class="screen active" id="welcome-screen">
                <div class="welcome-screen">
                    <h1 class="hero-title">Rewrite That Conversation</h1>
                    <h2 class="hero-subtitle">"I wish I had said it differently..."</h2>
                    <p class="hero-description">
                        The world's first AI+BCI platform that uses real-time neural feedback to train your brain for conflict resolution. 
                        Don't just practice conversations—rewire your neural pathways for lasting communication improvements.
                    </p>

                    <div style="display: flex; gap: 20px; justify-content: center; margin-bottom: 60px; flex-wrap: wrap;">
                        <button class="primary-button" onclick="startJourney()">
                            🧠 Start Neural Training Journey
                        </button>
                        <button class="secondary-button" onclick="showInvestmentInfo()">
                            💼 Investment Overview
                        </button>
                    </div>

                    <!-- BCI Demo Panel -->
                    <div class="bci-panel" style="margin-top: 60px;">
                        <div class="bci-title">🧠 Live Neural Demo - Your Brain State Now</div>
                        <div class="bci-metrics">
                            <div class="metric">
                                <div class="metric-value" id="demo-stress">24</div>
                                <div class="metric-label">Stress Level</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value" id="demo-focus">88</div>
                                <div class="metric-label">Focus Index</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value" id="demo-empathy">76</div>
                                <div class="metric-label">Empathy Score</div>
                            </div>
                        </div>
                        <div style="text-align: center; margin-top: 16px; font-size: 14px; opacity: 0.9;">
                            ⚡ Simulated BCI reading - Your actual neural patterns would be monitored during training
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 1: Neural Calibration -->
            <div class="screen" id="calibration-screen">
                <div style="max-width: 800px; margin: 0 auto; text-align: center;">
                    <h2 style="font-size: 36px; font-weight: 700; margin-bottom: 16px; color: #fbbf24; text-shadow: 0 0 20px rgba(251, 191, 36, 0.3);">🔬 Step 1: Neural Calibration</h2>
                    <p style="font-size: 18px; color: #cbd5e1; margin-bottom: 40px;">Establishing your personal brain baseline for optimal training effectiveness</p>

                    <div class="config-section" style="margin-bottom: 32px;">
                        <div style="background: rgba(4, 120, 87, 0.1); border: 1px solid rgba(4, 120, 87, 0.3); border-radius: 12px; padding: 20px; margin-bottom: 24px;">
                            <h4 style="color: #6ee7b7; margin-bottom: 12px;">🧠 Why Neural Calibration?</h4>
                            <p style="color: #94a3b8; font-size: 14px; line-height: 1.6;">
                                Every brain is unique. Before we can train your communication skills, we need to establish your personal 
                                neural baseline for stress, empathy, and emotional regulation. This ensures the AI provides personalized 
                                feedback based on YOUR brain patterns.
                            </p>
                        </div>

                        <div id="calibration-steps">
                            <div style="display: flex; align-items: center; justify-content: center; margin-bottom: 20px;">
                                <div style="width: 40px; height: 40px; border-radius: 50%; background: #fbbf24; color: #0c1445; display: flex; align-items: center; justify-content: center; font-weight: 700; margin-right: 16px;">1</div>
                                <span style="font-size: 18px; font-weight: 600; color: #fbbf24;">EEG Signal Detection & Quality Check</span>
                                <span id="step1-status" style="margin-left: auto; color: #f59e0b;">⏳ Ready</span>
                            </div>
                            <div style="background: rgba(12, 20, 69, 0.4); padding: 16px; border-radius: 12px; margin-bottom: 20px;">
                                <p style="color: #94a3b8;">Detecting neural activity from communication and emotional processing brain regions...</p>
                                <div style="background: rgba(251, 191, 36, 0.2); height: 8px; border-radius: 4px; margin-top: 12px; overflow: hidden;">
                                    <div id="calib-progress-1" style="background: #fbbf24; height: 100%; width: 0%; border-radius: 4px; transition: width 0.5s ease; box-shadow: 0 0 10px #fbbf24;"></div>
                                </div>
                            </div>
                        </div>

                        <div id="calibration-complete" style="background: rgba(4, 120, 87, 0.1); border: 1px solid #047857; border-radius: 12px; padding: 20px; display: none;">
                            <div style="color: #6ee7b7; font-weight: 600; margin-bottom: 8px; font-size: 18px;">✅ Neural Calibration Complete!</div>
                            <p style="color: #94a3b8;">Your personal brain baseline has been established. The system is now ready to provide customized training recommendations.</p>
                        </div>
                    </div>

                    <div class="bci-panel">
                        <div class="bci-title">🧠 Live Calibration Monitoring</div>
                        <div class="bci-metrics">
                            <div class="metric">
                                <div class="metric-value" id="calib-stress">28</div>
                                <div class="metric-label">Baseline Stress</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value" id="calib-focus">82</div>
                                <div class="metric-label">Focus Clarity</div>
                            </div>
                            <div class="metric">
                                <div class="metric-value" id="calib-empathy">74</div>
                                <div class="metric-label">Empathy Baseline</div>
                            </div>
                        </div>
                        <div style="background: rgba(255,255,255,0.1); padding: 16px; border-radius: 12px;">
                            <h4 style="margin-bottom: 10px; color: #6ee7b7;">⚡ Calibration Status</h4>
                            <p id="calibration-status" style="font-size: 14px; opacity: 0.9;">BCI sensors ready. Click below to begin neural calibration...</p>
                        </div>
                    </div>

                    <div style="margin-top: 30px;">
                        <button class="primary-button" onclick="startCalibration()" id="start-calibration-btn">
                            🔬 Begin Neural Calibration
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 2: Choose Training Scenario -->
            <div class="screen" id="scenario-screen">
                <div class="config-container">
                    <div style="text-align: center; margin-bottom: 40px;">
                        <h2 style="font-size: 36px; font-weight: 700; margin-bottom: 16px; color: #fbbf24; text-shadow: 0 0 20px rgba(251, 191, 36, 0.3);">🎯 Step 2: Choose Your Training Scenario</h2>
                        <p style="font-size: 18px; color: #cbd5e1;">Based on your neural calibration, select your training focus</p>
                    </div>

                    <div style="background: rgba(4, 120, 87, 0.1); border: 1px solid #047857; border-radius: 16px; padding: 24px; margin-bottom: 32px;">
                        <h3 style="color: #6ee7b7; margin-bottom: 16px; text-align: center;">📊 Your Neural Profile</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; text-align: center;">
                            <div>
                                <div style="font-size: 24px; font-weight: 700; color: #6ee7b7;" id="profile-stress">Low Stress</div>
                                <div style="color: #94a3b8; font-size: 14px;">Baseline: 28</div>
                            </div>
                            <div>
                                <div style="font-size: 24px; font-weight: 700; color: #6ee7b7;" id="profile-focus">High Focus</div>
                                <div style="color: #94a3b8; font-size: 14px;">Baseline: 82</div>
                            </div>
                            <div>
                                <div style="font-size: 24px; font-weight: 700; color: #6ee7b7;" id="profile-empathy">Good Empathy</div>
                                <div style="color: #94a3b8; font-size: 14px;">Baseline: 74</div>
                            </div>
                        </div>
                        <p style="color: #6ee7b7; text-align: center; margin-top: 16px; font-size: 14px;">✨ AI Recommendation: Based on your profile, relationship scenarios would provide optimal training benefit</p>
                    </div>

                    <div class="config-section">
                        <div class="config-title">🎭 Choose Your Training Scenario</div>
                        <p style="color: #94a3b8; margin-bottom: 20px;">Select the type of conflict you want to practice handling</p>
                        
                        <div class="scenarios-grid" style="margin-top: 0;">
                            <div class="scenario-card" onclick="selectScenario('family')" data-scenario="family">
                                <span class="scenario-emoji">👨‍👩‍👧‍👦</span>
                                <div class="scenario-title">Family Dynamics</div>
                                <div class="scenario-quote">"You never understand my perspective. We're from different generations!"</div>
                                <div class="scenario-insight">
                                    🧠 BCI Focus: Cross-generational empathy + patience neural networks
                                </div>
                            </div>
                            
                            <div class="scenario-card selected" onclick="selectScenario('relationship')" data-scenario="relationship">
                                <span class="scenario-emoji">💔</span>
                                <div class="scenario-title">Romantic Relationship</div>
                                <div class="scenario-quote">"You always prioritize work over our relationship!"</div>
                                <div class="scenario-insight">
                                    🧠 BCI Focus: Emotional regulation + mirror neuron activation (AI Recommended)
                                </div>
                            </div>
                            
                            <div class="scenario-card" onclick="selectScenario('workplace')" data-scenario="workplace">
                                <span class="scenario-emoji">💼</span>
                                <div class="scenario-title">Workplace Tension</div>
                                <div class="scenario-quote">"This approach is completely wrong and won't work!"</div>
                                <div class="scenario-insight">
                                    🧠 BCI Focus: Stress reduction + collaborative problem-solving pathways
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="config-section" id="partner-config">
                        <div class="config-title">🎭 Configure Your Virtual Partner</div>
                        <p style="color: #94a3b8; margin-bottom: 16px;">Customize the personality and communication style of your AI training partner</p>
                        <div data-category="style">
                            <div class="tag-option selected" data-value="emotional">😢 Emotional & Expressive</div>
                            <div class="tag-option" data-value="direct">💬 Direct & Blunt</div>
                            <div class="tag-option" data-value="passive-aggressive">😒 Passive-Aggressive</div>
                            <div class="tag-option" data-value="logical">🤔 Logical & Analytical</div>
                        </div>
                    </div>

                    <div class="config-section" id="goal-config">
                        <div class="config-title">🎯 Your Neural Training Goal</div>
                        <p style="color: #94a3b8; margin-bottom: 16px;">Select which specific neural pathways you want to strengthen during this session</p>
                        <div data-category="goal">
                            <div class="tag-option" data-value="stress-reduction">🧘 Reduce Stress Response</div>
                            <div class="tag-option selected" data-value="empathy-boost">🤝 Increase Empathy Networks</div>
                            <div class="tag-option" data-value="emotional-regulation">⚖️ Emotional Regulation</div>
                            <div class="tag-option" data-value="active-listening">👂 Active Listening Skills</div>
                        </div>
                    </div>

                    <div id="config-preview" style="background: rgba(251, 191, 36, 0.1); border: 1px solid rgba(251, 191, 36, 0.3); border-radius: 16px; padding: 20px; margin-bottom: 24px;">
                        <h4 style="color: #fbbf24; margin-bottom: 12px;">🔮 Training Preview</h4>
                        <p id="preview-text" style="color: #cbd5e1; font-size: 14px;">Your AI training partner will simulate a romantic partner who expresses emotions openly and seeks emotional connection. The BCI system will focus on helping you strengthen your mirror neuron networks for better understanding.</p>
                    </div>

                    <div style="text-align: center;">
                        <button class="primary-button" onclick="startBCITraining()" id="start-training-btn">
                            ⚡ Launch BCI Training Session
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 3: BCI Training -->
            <div class="screen" id="training-screen">
                <div style="max-width: 1100px; margin: 0 auto;">
                    <div style="text-align: center; margin-bottom: 30px;">
                        <h2 style="font-size: 32px; font-weight: 700; margin-bottom: 16px; color: #fbbf24; text-shadow: 0 0 20px rgba(251, 191, 36, 0.3);">⚡ Step 3: Live BCI Training</h2>
                        <p style="font-size: 16px; color: #cbd5e1;">Real-time neural feedback during communication practice</p>
                    </div>

                    <div class="training-grid">
                        <div class="chat-section">
                            <div style="background: rgba(12, 20, 69, 0.8); color: #fbbf24; padding: 12px 20px; border-radius: 12px; margin-bottom: 20px; text-align: center; font-size: 14px; position: relative; overflow: hidden; border: 1px solid rgba(251, 191, 36, 0.3);">
                                <div style="position: absolute; top: 0; left: 0; right: 0; height: 2px; background: linear-gradient(90deg, #fbbf24, #047857); animation: neuralActivity 2s linear infinite;"></div>
                                🧠 BCI Neural Monitoring Active - Real-time feedback enabled
                            </div>
                            
                            <h3 style="color: #fbbf24; margin-bottom: 20px; text-align: center;">💬 Neural-Guided Practice</h3>
                            
                            <div class="training-chat" id="training-chat">
                                <div class="chat-message system">
                                    🔄 Training scenario initialized. Your virtual partner is ready for practice.
                                </div>
                                <div class="chat-message ai" id="initial-message">
                                    I feel like you never really listen to what I'm saying. You're always distracted when we talk.
                                </div>
                                <div class="chat-message system">
                                    🧠 BCI Alert: Choose your response. Your neural patterns are being analyzed in real-time...
                                </div>
                            </div>

                            <div class="response-options" id="response-options">
                                <button class="response-option defensive" onclick="selectResponse('defensive')">
                                    😤 "That's not true! I do listen to you."
                                </button>
                                <button class="response-option empathetic" onclick="selectResponse('empathetic')">
                                    🤝 "I hear you saying you feel unheard. That must be frustrating."
                                </button>
                                <button class="response-option" onclick="selectResponse('neutral')">
                                    💭 "Can you help me understand what makes you feel that way?"
                                </button>
                            </div>

                            <div style="background: rgba(12, 20, 69, 0.4); padding: 16px; border-radius: 12px; margin-top: 16px;">
                                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
                                    <span style="font-weight: 600; font-size: 14px; color: #fbbf24;">Neural Training Progress</span>
                                    <span id="training-progress-text" style="color: #fbbf24; font-weight: 600; font-size: 14px;">1/4 exchanges</span>
                                </div>
                                <div style="background: rgba(251, 191, 36, 0.2); height: 6px; border-radius: 3px;">
                                    <div id="training-progress-bar" style="background: linear-gradient(90deg, #fbbf24, #f59e0b); height: 100%; width: 25%; border-radius: 3px; transition: width 0.5s ease; box-shadow: 0 0 10px rgba(251, 191, 36, 0.5);"></div>
                                </div>
                                <p style="font-size: 12px; color: #94a3b8; margin-top: 8px;">Complete 4 exchanges to finish neural training session</p>
                            </div>
                        </div>

                        <div class="bci-panel">
                            <div class="bci-title">🧠 Live Neural Analysis</div>
                            <div class="bci-metrics">
                                <div class="metric">
                                    <div class="metric-value" id="training-stress">45</div>
                                    <div class="metric-label">Stress</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-value" id="training-empathy">65</div>
                                    <div class="metric-label">Empathy</div>
                                </div>
                                <div class="metric">
                                    <div class="metric-value" id="training-regulation">78</div>
                                    <div class="metric-label">Regulation</div>
                                </div>
                            </div>

                            <div style="background: rgba(255,255,255,0.1); padding: 16px; border-radius: 12px; margin-bottom: 16px;">
                                <h4 style="margin-bottom: 10px; color: #6ee7b7;">⚡ Real-time Insights</h4>
                                <p id="training-insight" style="font-size: 14px; opacity: 0.9;">Analyzing your neural response to conflict scenario...</p>
                            </div>

                            <div id="neural-feedback" style="background: linear-gradient(135deg, rgba(4, 120, 87, 0.3), rgba(6, 95, 70, 0.3)); padding: 16px; border-radius: 12px; display: none; border: 1px solid #047857;">
                                <h4 style="margin-bottom: 8px; color: #6ee7b7;">🧠 Neural Guidance</h4>
                                <p id="feedback-text" style="font-size: 14px;">Choose your response to see neural feedback!</p>
                            </div>

                            <div style="background: rgba(12, 20, 69, 0.8); border-radius: 12px; padding: 16px; margin-top: 20px; border: 1px solid rgba(251, 191, 36, 0.2);">
                                <h4 style="color: #6ee7b7; margin-bottom: 8px; text-align: center;">🔬 Neural Pathways</h4>
                                <div style="text-align: center; color: #94a3b8; font-size: 14px;">
                                    New connections: <span id="pathway-count" style="color: #6ee7b7; font-weight: bold;">0</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="text-align: center; margin-top: 30px;">
                        <button class="secondary-button" onclick="finishTraining()" id="finish-training-btn" disabled>
                            📊 Complete Training & View Analysis
                        </button>
                    </div>
                </div>
            </div>

            <!-- Step 4: Analysis Results -->
            <div class="screen" id="results-screen">
                <div style="max-width: 1000px; margin: 0 auto; text-align: center;">
                    <h2 style="font-size: 36px; font-weight: 700; margin-bottom: 16px; color: #fbbf24; text-shadow: 0 0 20px rgba(251, 191, 36, 0.3);">📊 Step 4: Neural Training Analysis</h2>
                    <p style="font-size: 18px; color: #cbd5e1; margin-bottom: 40px;">Your brain's communication pathways have been strengthened through BCI-guided practice</p>

                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 40px;">
                        <div style="background: rgba(12, 20, 69, 0.6); border: 1px solid rgba(251, 191, 36, 0.3); border-radius: 12px; padding: 20px;">
                            <div style="font-size: 32px; font-weight: 700; color: #fbbf24; margin-bottom: 8px;" id="result-pathways">+47</div>
                            <div style="font-size: 14px; color: #94a3b8;">Neural Connections</div>
                        </div>
                        <div style="background: rgba(12, 20, 69, 0.6); border: 1px solid rgba(251, 191, 36, 0.3); border-radius: 12px; padding: 20px;">
                            <div style="font-size: 32px; font-weight: 700; color: #6ee7b7; margin-bottom: 8px;" id="result-stress">-67%</div>
                            <div style="font-size: 14px; color: #94a3b8;">Stress Reduction</div>
                        </div>
                        <div style="background: rgba(12, 20, 69, 0.6); border: 1px solid rgba(251, 191, 36, 0.3); border-radius: 12px; padding: 20px;">
                            <div style="font-size: 32px; font-weight: 700; color: #fbbf24; margin-bottom: 8px;" id="result-empathy">+96%</div>
                            <div style="font-size: 14px; color: #94a3b8;">Empathy Increase</div>
                        </div>
                        <div style="background: rgba(12, 20, 69, 0.6); border: 1px solid rgba(251, 191, 36, 0.3); border-radius: 12px; padding: 20px;">
                            <div style="font-size: 32px; font-weight: 700; color: #f59e0b; margin-bottom: 8px;">A+</div>
                            <div style="font-size: 14px; color: #94a3b8;">BCI Performance</div>
                        </div>
                    </div>

                    <div style="background: rgba(4, 120, 87, 0.1); border: 1px solid #047857; border-radius: 16px; padding: 32px; margin-bottom: 32px; text-align: left;">
                        <h3 style="color: #6ee7b7; margin-bottom: 20px; text-align: center;">🧠 Personalized Neuroplasticity Report</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 30px;">
                            <div>
                                <h4 style="color: #6ee7b7; margin-bottom: 12px;">Neural Improvements Detected:</h4>
                                <ul style="color: #94a3b8; line-height: 1.8; padding-left: 20px;">
                                    <li>Amygdala reactivity reduced by 67% during conflict</li>
                                    <li>Prefrontal cortex engagement increased by 42%</li>
                                    <li>Mirror neuron network strengthened significantly</li>
                                    <li>Emotional regulation circuits enhanced</li>
                                </ul>
                            </div>
                            <div>
                                <h4 style="color: #6ee7b7; margin-bottom: 12px;">Communication Skills Gained:</h4>
                                <ul style="color: #94a3b8; line-height: 1.8; padding-left: 20px;">
                                    <li>Active listening neural patterns established</li>
                                    <li>Empathetic response automation developed</li>
                                    <li>Conflict de-escalation reflexes strengthened</li>
                                    <li>Stress-resistant communication pathways formed</li>
                                </ul>
                            </div>
                        </div>
                        <div style="background: rgba(4, 120, 87, 0.2); padding: 16px; border-radius: 12px; margin-top: 20px; text-align: center;">
                            <strong style="color: #6ee7b7;">🎯 Next Session Recommendation:</strong>
                            <span style="color: #94a3b8;"> Continue with workplace scenarios to build on your empathy gains</span>
                        </div>
                    </div>

                    <div style="display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; margin-bottom: 40px;">
                        <button class="primary-button" onclick="downloadReport()">
                            📄 Download Full Neural Report
                        </button>
                        <button class="secondary-button" onclick="startNewSession()">
                            🔄 Train Another Scenario
                        </button>
                        <button class="secondary-button" onclick="goHome()">
                            🏠 Back to Home
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-container">
                <div class="footer-quote">
                    <div class="footer-quote-text">
                        Rewiring human connection, one conversation at a time.
                    </div>
                </div>

                <div class="footer-main">
                    <div class="footer-brand">
                        <div class="footer-logo">
                            <svg class="footer-logo-icon" viewBox="0 0 120 120" xmlns="http://www.w3.org/2000/svg">
                                <rect x="0" y="0" width="120" height="120" rx="16" fill="#fbbf24"/>
                                <g transform="translate(60, 60)" fill="#0c1445">
                                    <rect x="-15" y="-3" width="30" height="6" rx="3"/>
                                    <circle cx="-15" cy="0" r="6" fill="none" stroke="#0c1445" stroke-width="3"/>
                                    <circle cx="15" cy="0" r="6" fill="none" stroke="#0c1445" stroke-width="3"/>
                                </g>
                            </svg>
                            <div class="footer-logo-text">Bridge</div>
                        </div>
                        <p class="footer-description">
                            Bridge, derived from the concept of "neural bridging," is an AI+BCI platform that turns your communication challenges into lasting neural improvements.
                        </p>
                        <div class="footer-copyright">© 2025 Bridge AI</div>
                        
                        <div class="footer-social">
                            <a href="#" class="social-link" aria-label="LinkedIn">
                                <i class="fab fa-linkedin-in"></i>
                            </a>
                            <a href="#" class="social-link" aria-label="Twitter">
                                <i class="fab fa-x-twitter"></i>
                            </a>
                            <a href="#" class="social-link" aria-label="YouTube">
                                <i class="fab fa-youtube"></i>
                            </a>
                            <a href="#" class="social-link" aria-label="GitHub">
                                <i class="fab fa-github"></i>
                            </a>
                        </div>
                    </div>

                    <div class="footer-section">
                        <h4>Platform</h4>
                        <ul class="footer-links">
                            <li><a href="#" onclick="startJourney()">Neural Training</a></li>
                            <li><a href="#" onclick="showTechInfo()">BCI Technology</a></li>
                            <li><a href="#" onclick="showResults()">Success Stories</a></li>
                            <li><a href="#" onclick="showAPIInfo()">Developer API</a></li>
                        </ul>
                    </div>

                    <div class="footer-section">
                        <h4>Company</h4>
                        <ul class="footer-links">
                            <li><a href="#" onclick="showInvestmentInfo()">Investors</a></li>
                            <li><a href="#" onclick="showContactInfo()">Contact us</a></li>
                            <li><a href="#" onclick="showCareers()">Careers</a></li>
                            <li><a href="#" onclick="showPress()">Press kit</a></li>
                        </ul>
                    </div>

                    <div class="footer-section">
                        <h4>Resources</h4>
                        <ul class="footer-links">
                            <li><a href="#" onclick="showDocumentation()">Documentation</a></li>
                            <li><a href="#" onclick="showResearch()">Research papers</a></li>
                            <li><a href="#" onclick="showHelp()">Help center</a></li>
                            <li><a href="#" onclick="showCommunity()">Community</a></li>
                        </ul>
                    </div>
                </div>

                <div class="footer-bottom">
                    <div class="footer-bottom-text">
                        Transforming human communication through neuroscience and AI
                    </div>
                    <div class="footer-legal">
                        <a href="#" onclick="showPrivacy()">Privacy policy</a>
                        <a href="#" onclick="showTerms()">Terms of service</a>
                        <a href="#" onclick="showSecurity()">Security</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Global state
        let currentStep = 0;
        let selectedScenario = 'relationship';
        let trainingConfig = { style: 'emotional', goal: 'empathy-boost' };
        let trainingData = { stress: 45, empathy: 65, regulation: 78, pathways: 0, exchanges: 0 };
        let bciMetrics = { stress: 24, focus: 88, empathy: 76 };
        let isCalibrated = false;

        // Navigation
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screenId).classList.add('active');
            
            if (screenId === 'welcome-screen') {
                document.getElementById('progress-bar').style.display = 'none';
            } else {
                document.getElementById('progress-bar').style.display = 'flex';
            }
        }

        function updateProgress(step) {
            currentStep = step;
            const statuses = ['Neural Calibration', 'Choose Scenario', 'BCI Training', 'Analysis Complete'];
            document.getElementById('header-status').textContent = statuses[step - 1] || 'Ready to Begin';
            
            for (let i = 1; i <= 4; i++) {
                const stepEl = document.getElementById(`step-${i}`);
                stepEl.classList.remove('active', 'completed');
                if (i < step) stepEl.classList.add('completed');
                else if (i === step) stepEl.classList.add('active');
            }
        }

        function goHome() {
            showScreen('welcome-screen');
            updateProgress(0);
        }

        // Step 1: Journey & Calibration
        function startJourney() {
            showScreen('calibration-screen');
            updateProgress(1);
        }

        function startCalibration() {
            const btn = document.getElementById('start-calibration-btn');
            btn.disabled = true;
            btn.textContent = '🔄 Calibrating Neural Sensors...';
            
            document.getElementById('calibration-status').textContent = 'Detecting EEG signals...';
            document.getElementById('step1-status').textContent = '🔄 In Progress';
            
            let progress = 0;
            const interval = setInterval(() => {
                progress += Math.random() * 12 + 3;
                document.getElementById('calib-progress-1').style.width = Math.min(progress, 100) + '%';
                
                if (progress > 50) document.getElementById('calibration-status').textContent = 'Establishing neural baseline...';
                
                bciMetrics.stress += (Math.random() - 0.5) * 2;
                bciMetrics.focus += (Math.random() - 0.5) * 3;
                bciMetrics.empathy += (Math.random() - 0.5) * 2;
                updateBCIMetrics();
                
                if (progress >= 100) {
                    clearInterval(interval);
                    completeCalibration();
                }
            }, 400);
        }

        function completeCalibration() {
            isCalibrated = true;
            document.getElementById('calibration-complete').style.display = 'block';
            document.getElementById('calibration-status').textContent = '✅ Neural baseline established.';
            document.getElementById('step1-status').textContent = '✅ Complete';
            
            setTimeout(() => {
                showScreen('scenario-screen');
                updateProgress(2);
            }, 2500);
        }

        // Step 2: Scenario Selection
        function selectScenario(scenario) {
            selectedScenario = scenario;
            document.querySelectorAll('.scenario-card').forEach(c => c.classList.remove('selected'));
            document.querySelector(`[data-scenario="${scenario}"]`).classList.add('selected');
        }

        function startBCITraining() {
            showScreen('training-screen');
            updateProgress(3);
            initializeTraining();
        }

        // Step 3: Training
        function initializeTraining() {
            trainingData.exchanges = 0;
            trainingData.pathways = 0;
            updateTrainingProgress();
            updateTrainingBCI();
            
            document.querySelectorAll('.response-option').forEach(btn => {
                btn.disabled = false;
                btn.style.opacity = '1';
            });
        }

        function selectResponse(responseType) {
            const responses = {
                'defensive': '😤 "That\'s not true! I do listen to you."',
                'empathetic': '🤝 "I hear you saying you feel unheard. That must be frustrating."',
                'neutral': '💭 "Can you help me understand what makes you feel that way?"'
            };
            
            addTrainingMessage(responses[responseType], 'user');
            
            document.querySelectorAll('.response-option').forEach(btn => {
                btn.disabled = true;
                btn.style.opacity = '0.5';
            });
            
            setTimeout(() => analyzeResponse(responseType), 500);
            setTimeout(() => {
                generateAIResponse(responseType);
                trainingData.exchanges++;
                updateTrainingProgress();
                
                if (trainingData.exchanges >= 4) {
                    setTimeout(() => completeTraining(), 2000);
                } else {
                    setTimeout(() => {
                        document.querySelectorAll('.response-option').forEach(btn => {
                            btn.disabled = false;
                            btn.style.opacity = '1';
                        });
                    }, 2000);
                }
            }, 1500);
        }

        function analyzeResponse(responseType) {
            let feedback = '';
            let bciChanges = {};
            
            switch(responseType) {
                case 'defensive':
                    feedback = '⚠️ Defensive response detected. Consider empathetic listening.';
                    bciChanges = { stress: +15, empathy: -10, regulation: -8, pathways: +1 };
                    break;
                case 'empathetic':
                    feedback = '✅ Excellent empathy activation! Neural pathways strengthening.';
                    bciChanges = { stress: -12, empathy: +18, regulation: +10, pathways: +4 };
                    break;
                case 'neutral':
                    feedback = '🧠 Good inquiry approach. Moderate neural improvement detected.';
                    bciChanges = { stress: -5, empathy: +8, regulation: +5, pathways: +2 };
                    break;
            }
            
            trainingData.stress = Math.max(10, Math.min(100, trainingData.stress + bciChanges.stress));
            trainingData.empathy = Math.max(20, Math.min(100, trainingData.empathy + bciChanges.empathy));
            trainingData.regulation = Math.max(30, Math.min(100, trainingData.regulation + bciChanges.regulation));
            trainingData.pathways += bciChanges.pathways;
            
            showNeuralFeedback(feedback);
            addTrainingMessage(`🧠 ${feedback}`, 'bci-feedback');
            updateTrainingBCI();
        }

        function generateAIResponse(responseType) {
            const responses = {
                'defensive': "I can see you're getting defensive. That's exactly what I mean.",
                'empathetic': "Thank you for acknowledging that. I appreciate you really listening.",
                'neutral': "Well, like when I try to tell you about my day and you're distracted..."
            };
            addTrainingMessage(responses[responseType], 'ai');
        }

        function addTrainingMessage(text, type) {
            const chatContainer = document.getElementById('training-chat');
            const messageEl = document.createElement('div');
            messageEl.className = `chat-message ${type}`;
            messageEl.textContent = text;
            chatContainer.appendChild(messageEl);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function showNeuralFeedback(text) {
            const feedbackPanel = document.getElementById('neural-feedback');
            const feedbackText = document.getElementById('feedback-text');
            
            feedbackText.textContent = text;
            feedbackPanel.style.display = 'block';
            
            setTimeout(() => {
                feedbackPanel.style.display = 'none';
            }, 4000);
        }

        function updateTrainingProgress() {
            const progress = (trainingData.exchanges / 4) * 100;
            document.getElementById('training-progress-bar').style.width = progress + '%';
            document.getElementById('training-progress-text').textContent = `${trainingData.exchanges}/4 exchanges`;
            
            const finishBtn = document.getElementById('finish-training-btn');
            if (trainingData.exchanges >= 4) {
                finishBtn.disabled = false;
                finishBtn.textContent = '📊 View Analysis Results';
            } else if (trainingData.exchanges >= 2) {
                finishBtn.disabled = false;
                finishBtn.textContent = '📊 Complete Training & View Analysis';
            }
        }

        function updateTrainingBCI() {
            document.getElementById('training-stress').textContent = Math.round(trainingData.stress);
            document.getElementById('training-empathy').textContent = Math.round(trainingData.empathy);
            document.getElementById('training-regulation').textContent = Math.round(trainingData.regulation);
            document.getElementById('pathway-count').textContent = trainingData.pathways;
            
            const insights = [
                "Analyzing prefrontal cortex activity",
                "Monitoring mirror neuron engagement", 
                "Tracking amygdala reactivity levels",
                "Measuring neural pathway formation"
            ];
            document.getElementById('training-insight').textContent = insights[Math.floor(Math.random() * insights.length)];
        }

        function completeTraining() {
            addTrainingMessage('🎉 Neural training complete! Pathways strengthened.', 'system');
            document.querySelectorAll('.response-option').forEach(btn => btn.style.display = 'none');
            setTimeout(() => finishTraining(), 2000);
        }

        // Step 4: Results
        function finishTraining() {
            showScreen('results-screen');
            updateProgress(4);
            
            const stressReduction = Math.round(45 - trainingData.stress);
            const empathyIncrease = Math.round(trainingData.empathy - 65);
            
            document.getElementById('result-pathways').textContent = `+${trainingData.pathways}`;
            document.getElementById('result-stress').textContent = `-${stressReduction}%`;
            document.getElementById('result-empathy').textContent = `+${empathyIncrease}%`;
        }

        function downloadReport() {
            alert('📄 Neural Training Report Generated!\n\n✅ Pre/post brain state comparison\n✅ Neural pathway formation analysis\n✅ Communication improvement metrics\n✅ Personalized training recommendations\n\n(In the full product, this would download a detailed 50-page PDF report)');
        }

        function startNewSession() {
            if (confirm('🔄 Start New Training Session?\n\nThis will reset your current progress.')) {
                trainingData = { stress: 45, empathy: 65, regulation: 78, pathways: 0, exchanges: 0 };
                showScreen('scenario-screen');
                updateProgress(2);
            }
        }

        // Business functions
        function showInvestmentInfo() {
            alert('💼 Bridge Investment Opportunity\n\n🚀 Series A: $80M to dominate the $1T neural communication market\n\n📊 5-Year Projections:\n• Year 3: $9.6B revenue, 30M BCI users\n• Year 5: $45B revenue, 150M users\n• 125-190x potential ROI (IPO scenario)\n\n🧠 Revolutionary Technology:\n• World\'s first AI+BCI communication platform\n• Real-time neural feedback and training\n• Scientifically proven neuroplasticity results\n\n📧 Contact: investors@bridge-ai.com');
        }

        // Footer functions (simplified versions)
        function showTechInfo() { alert('🔬 Bridge BCI Technology\n\n• 32-channel EEG neural monitoring\n• 95%+ emotion recognition accuracy\n• Real-time neuroplasticity training\n• Proven 89% stress reduction results'); }
        function showResults() { alert('📈 Bridge Success Stories\n\n94% of users report lasting improvement in communication skills after Bridge training.'); }
        function showAPIInfo() { alert('🔧 Bridge Developer API\n\nIntegration capabilities for neural monitoring, emotion detection, and custom training scenarios.'); }
        function showContactInfo() { alert('📧 Contact Bridge\n\nEmail: hello@bridge-ai.com\nInvestors: investors@bridge-ai.com'); }
        function showCareers() { alert('🚀 Join Bridge\n\nOpen positions in neuroscience, AI research, and product development.\n\nApply: careers@bridge-ai.com'); }
        function showPress() { alert('📰 Bridge Press Kit\n\nMedia assets and recent coverage available.\n\nPress: press@bridge-ai.com'); }
        function showDocumentation() { alert('📚 Bridge Documentation\n\nPlatform guides, API docs, and neural science resources.\n\nAccess: docs.bridge-ai.com'); }
        function showResearch() { alert('🔬 Bridge Research Papers\n\nPublished studies on AI-guided neuroplasticity training.\n\nResearch: research@bridge-ai.com'); }
        function showHelp() { alert('❓ Bridge Help Center\n\n24/7 Support available.\n\nSupport: support@bridge-ai.com'); }
        function showCommunity() { alert('👥 Bridge Community\n\nJoin thousands of neural communication trainers.\n\nCommunity: community.bridge-ai.com'); }
        function showPrivacy() { alert('🔒 Privacy Policy\n\nYour neural data is sacred - end-to-end encrypted and GDPR compliant.'); }
        function showTerms() { alert('📋 Terms of Service\n\nPlatform usage terms and neural training guidelines.'); }
        function showSecurity() { alert('🔐 Security & Compliance\n\nEnterprise-grade security with HIPAA compliance.'); }

        // BCI metrics simulation
        function updateBCIMetrics() {
            bciMetrics.stress = Math.max(15, Math.min(35, bciMetrics.stress + (Math.random() - 0.5) * 2));
            bciMetrics.focus = Math.max(80, Math.min(95, bciMetrics.focus + (Math.random() - 0.5) * 2));
            bciMetrics.empathy = Math.max(70, Math.min(85, bciMetrics.empathy + (Math.random() - 0.5) * 2));

            const elements = {
                'demo-stress': Math.round(bciMetrics.stress),
                'demo-focus': Math.round(bciMetrics.focus),
                'demo-empathy': Math.round(bciMetrics.empathy),
                'calib-stress': Math.round(bciMetrics.stress),
                'calib-focus': Math.round(bciMetrics.focus),
                'calib-empathy': Math.round(bciMetrics.empathy)
            };

            Object.entries(elements).forEach(([id, value]) => {
                const el = document.getElementById(id);
                if (el) el.textContent = value;
            });
        }

        // Tag selection
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.tag-option').forEach(tag => {
                tag.addEventListener('click', function() {
                    const category = this.closest('[data-category]').dataset.category;
                    
                    this.closest('[data-category]').querySelectorAll('.tag-option').forEach(t => {
                        t.classList.remove('selected');
                    });
                    
                    this.classList.add('selected');
                    trainingConfig[category] = this.dataset.value;
                });
            });
        });

        // Initialize
        setInterval(updateBCIMetrics, 3000);
        updateBCIMetrics();
        updateProgress(0);
    </script>
</body>
</html>